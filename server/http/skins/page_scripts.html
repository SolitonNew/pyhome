<style type="text/css">
    div.list {
        position:absolute;
        width:100%;
        height:100%;
        overflow:none;
        overflow-y:auto;
        cursor:default;
        border:1px solid #ccc;
    }

    div.list_row, div.list_row_sel {
        padding:5px;
        border-bottom:1px solid #eee;
    }

    div.list_row:hover {
        background-color: #eee;
    }

    div.list_row_sel {
        background-color: #aaa;
        color: #fff;
    }    
        
</style>

<script type="text/javascript">

    refresh_script_list(-1);

    function refresh_script_list(key) {
        $.ajax({url:'page_scripts?form=script_list&key=' + key}).done(function(data){$('#script_list').html(data);});
    }

    function load_script_text(key) {
        $.ajax({url:'page_scripts?form=script_text&key=' + key}).done(function(data){$('#script_text').val(data);});
    }    

    function sel_script_list(key) {
        refresh_script_list(key);
        load_script_text(key);        
    }

</script>

<table width="100%" height="100%" cellpadding="0" cellspacing="0">
<tr>
    <td colspan="2">
        <div class="toolbar">
            <button>Новый скрипт...</button>
            <button>Удалить скрипт...</button>
        </div>
    </td>
</tr>
<tr>
    <td height="100%">
        <div class="splitter_left" style="width:300px;">
            <table width="100%" height="100%" cellpadding="0" cellspacing="0">
            <tr>
                <td height="100%" style="position:relative;" valign="top">
                    <div id="script_list" class="list"></div>
                </td>
            </tr>
            <tr>
                <td style="position:relative;" valign="top">
                    <div class="splitter_bottom" style="height:300px;">
                        <div style="padding:3px;cursor:default;">Шаблоны</div>
                    </div>
                </td>
            </tr>
            </table>
        </div>
    </td>
    <td width="100%">
        <textarea id="script_text" style="width:100%;height:100%;"></textarea>
    </td>
</tr>
</table>
